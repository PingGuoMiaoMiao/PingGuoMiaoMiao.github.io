---
title: "ğŸ§© ä¸€ã€ç¯å¢ƒå‡†å¤‡"
tag: "å­¦ä¹ ç¬”è®°"
date: "2025-11-19"
summary: "éå¸¸å¥½ âœ… é‚£æˆ‘ä»¬æŠŠ Week 1 åŸå‹ æ¢æˆç”¨ Live2D å®ç°ã€‚ç›®æ ‡ç›¸åŒï¼š â†’ åœ¨æ¡Œé¢ä¸Šæ˜¾ç¤ºä¸€ä¸ª Live2D è§’è‰²ï¼Œèƒ½æ’­æ”¾è¡¨æƒ…ä¸åŠ¨ä½œåŠ¨ç”»ï¼ˆä¾‹å¦‚ idle / smile / surpriseï¼‰..."
status: "published"
readingTime: 20
---

# ğŸ§© ä¸€ã€ç¯å¢ƒå‡†å¤‡

éå¸¸å¥½ âœ…
é‚£æˆ‘ä»¬æŠŠ **Week 1 åŸå‹** æ¢æˆç”¨ **Live2D** å®ç°ã€‚ç›®æ ‡ç›¸åŒï¼š
â†’ åœ¨æ¡Œé¢ä¸Šæ˜¾ç¤ºä¸€ä¸ª Live2D è§’è‰²ï¼Œèƒ½æ’­æ”¾è¡¨æƒ…ä¸åŠ¨ä½œåŠ¨ç”»ï¼ˆä¾‹å¦‚ idle / smile / surpriseï¼‰ï¼Œç‚¹å‡»æ—¶åˆ‡æ¢åŠ¨ç”»ã€‚

ä¸‹é¢æ˜¯**å®Œæ•´ã€å®æˆ˜çº§çš„ Electron + Live2D å®ç°æŒ‡å—**ã€‚
ï¼ˆå¯ç›´æ¥è¿è¡Œï¼Œæ”¯æŒ Linux / Windows / macOSï¼‰

---

## ğŸ§© ä¸€ã€ç¯å¢ƒå‡†å¤‡

### 1ï¸âƒ£ å®‰è£… Node.js

ç¡®è®¤ Node.js â‰¥ 18ï¼š

```bash
node -v
npm -v
```

å¦‚æœæ²¡æœ‰ï¼š

```bash
sudo pacman -S nodejs npm
```

---

### 2ï¸âƒ£ æ–°å»ºé¡¹ç›®ç›®å½•

```bash
mkdir doumeichan-live2d
cd doumeichan-live2d
npm init -y
```

---

### 3ï¸âƒ£ å®‰è£…ä¾èµ–

```bash
npm install electron pixi.js pixi-live2d-display
```

> `pixi-live2d-display` æ˜¯ä¸€ä¸ªå°è£…äº† Cubism SDK çš„ JS å®ç°ï¼Œå¯ç›´æ¥åœ¨ Electron/Web æ¸²æŸ“ Live2D æ¨¡å‹ã€‚
> å®ƒå…¼å®¹ `.model3.json` æ ¼å¼çš„æ¨¡å‹ï¼ˆCubism 3/4 å‡æ”¯æŒï¼‰ã€‚

---

## ğŸ“ äºŒã€é¡¹ç›®ç»“æ„

```
doumeichan-live2d/
â”œâ”€â”€ package.json
â”œâ”€â”€ main.js              # Electron ä¸»è¿›ç¨‹
â”œâ”€â”€ index.html           # é¡µé¢å…¥å£
â”œâ”€â”€ renderer.js          # æ¸²æŸ“é€»è¾‘ (Pixi + Live2D)
â””â”€â”€ assets/
    â””â”€â”€ model/
        â”œâ”€â”€ Haru/
        â”‚   â”œâ”€â”€ Haru.model3.json
        â”‚   â”œâ”€â”€ Haru.moc3
        â”‚   â”œâ”€â”€ Haru.physics3.json
        â”‚   â”œâ”€â”€ Haru.motion3.json
        â”‚   â”œâ”€â”€ textures/
        â”‚   â”‚   â””â”€â”€ texture_00.png
```

> Live2D å®˜æ–¹ç¤ºä¾‹æ¨¡å‹ â€œHaruâ€ å¯å…è´¹ä¸‹è½½ï¼š
> [https://www.live2d.com/download/sample-data/](https://www.live2d.com/download/sample-data/)

---

## âš™ï¸ ä¸‰ã€Electron ä¸»è¿›ç¨‹

**main.js**

```js
const { app, BrowserWindow } = require('electron');
const path = require('path');

function createWindow() {
  const win = new BrowserWindow({
    width: 800,
    height: 600,
    transparent: true,
    frame: false,
    alwaysOnTop: true,
    resizable: false,
    webPreferences: {
      preload: path.join(__dirname, 'preload.js'),
      nodeIntegration: true,
      contextIsolation: false,
    },
  });

  win.loadFile('index.html');
  // è‹¥æƒ³é¼ æ ‡ç©¿é€å¯å¯ç”¨
  // win.setIgnoreMouseEvents(true, { forward: true });
}

app.whenReady().then(createWindow);
app.on('window-all-closed', () => app.quit());
```

---

## ğŸª å››ã€ç½‘é¡µä¸æ¸²æŸ“é€»è¾‘

### index.html

```html
<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="UTF-8" />
  <title>æŠ–å¦¹é…± Live2D åŸå‹</title>
  <style>
    html, body {
      margin: 0;
      padding: 0;
      background: transparent;
      overflow: hidden;
    }
  </style>
</head>
<body>
  <script type="module" src="renderer.js"></script>
</body>
</html>
```

---

### renderer.js

```js
import * as PIXI from 'pixi.js';
import { Live2DModel } from 'pixi-live2d-display';

// åˆå§‹åŒ– PIXI åº”ç”¨
const app = new PIXI.Application({
  width: 800,
  height: 600,
  backgroundAlpha: 0,
});
document.body.appendChild(app.view);

// åŠ è½½ Live2D æ¨¡å‹
(async () => {
  const model = await Live2DModel.from('assets/model/Haru/Haru.model3.json');

  model.scale.set(0.4);
  model.position.set(app.screen.width / 2, app.screen.height * 0.95);
  model.anchor.set(0.5, 1);

  app.stage.addChild(model);

  // è®¾ç½®åŠ¨ä½œåŠ¨ç”»åˆ—è¡¨
  const motions = ['Idle', 'TapBody', 'Shake'];

  let current = 0;
  function playNextMotion() {
    const motion = motions[current];
    model.motion(motion);
    current = (current + 1) % motions.length;
  }

  playNextMotion();

  // ç‚¹å‡»åˆ‡æ¢åŠ¨ç”»
  app.view.addEventListener('click', playNextMotion);
})();
```

> ğŸ’¡ è¯´æ˜ï¼š
>
> * `pixi-live2d-display` è‡ªåŠ¨è§£æ motion3.json æ–‡ä»¶å¹¶æ’­æ”¾åŠ¨ç”»ã€‚
> * å¦‚æœæ¨¡å‹å¸¦æœ‰ `Haru.motion3.json` æ–‡ä»¶ï¼Œä½ å¯ä»¥ç›´æ¥è°ƒç”¨ `model.motion('TapBody')` ä¹‹ç±»çš„åŠ¨ä½œã€‚
> * å¦‚æœä½ çš„æ¨¡å‹æ²¡æœ‰å¯¹åº”åŠ¨ä½œï¼Œå¯è°ƒç”¨ `model.motion('Idle')` æˆ–è‡ªå®šä¹‰ã€‚

---

## ğŸš€ äº”ã€è¿è¡Œé¡¹ç›®

æ‰§è¡Œï¼š

```bash
npx electron .
```

ä½ ä¼šçœ‹åˆ° Haru æ¨¡å‹ï¼ˆæˆ–ä½ è‡ªå·±çš„ Live2D æ¨¡å‹ï¼‰åœ¨æ¡Œé¢é€æ˜çª—å£ä¸­åŠ¨èµ·æ¥ã€‚
ç‚¹å‡»æ¨¡å‹å¯ä»¥åˆ‡æ¢åŠ¨ç”»ï¼

---

## ğŸŒˆ å…­ã€æ·»åŠ ä½ çš„è§’è‰²ï¼ˆæŠ–å¦¹é…±ï¼‰

å°†ä½ è‡ªå·±çš„ Live2D Cubism æ¨¡å‹å¯¼å‡ºä¸º `.model3.json` æ ¼å¼ï¼ˆåŒ…å« `.moc3`ã€`.physics3.json`ã€`.motion3.json`ã€texturesï¼‰ï¼Œæ”¾å…¥ï¼š

```
assets/model/doumeichan/
```

ç„¶åä¿®æ”¹ï¼š

```js
const model = await Live2DModel.from('assets/model/doumeichan/doumeichan.model3.json');
```

---

## ğŸ§  ä¸ƒã€è¿›ä¸€æ­¥å¢å¼ºï¼ˆWeek 2 æ–¹å‘ï¼‰

âœ… æ·»åŠ  **è¡¨æƒ…åˆ‡æ¢æŒ‰é’®**ï¼ˆsmile, surpriseï¼‰
âœ… æ ¹æ®è¯­éŸ³è¾“å…¥æ”¹å˜åŠ¨ä½œï¼ˆSTT + emotion analysisï¼‰
âœ… å®ç° **é€æ˜ç©¿é€** æ¨¡å¼ï¼ˆQt æ¡Œå® æ•ˆæœï¼‰
âœ… å¢åŠ  **é¼ æ ‡è·Ÿéšã€çœ¨çœ¼ã€ç‰©ç†æŠ–åŠ¨**

---

## ğŸ’¾ å…«ã€å…è´¹ Live2D æ¨¡å‹èµ„æºæ¨è

| åç§°             | é“¾æ¥                                                         | ç”¨é€”             |
| ---------------- | ------------------------------------------------------------ | ---------------- |
| Haru (å®˜æ–¹)      | [https://www.live2d.com/download/sample-data/](https://www.live2d.com/download/sample-data/) | å¼€å‘æµ‹è¯•         |
| Hiyori           | åŒä¸Š                                                         | æ›´å¤šè¡¨æƒ…         |
| Koharu           | åŒä¸Š                                                         | Cubism 4 æ–°æ¨¡å‹  |
| OpenLive2DModels | [https://github.com/guansss/open-live2d-models](https://github.com/guansss/open-live2d-models) | GPL æ¨¡å‹é›†åˆ     |
| LAppModel (æ—§ç‰ˆ) | [https://github.com/Live2D/CubismWebSamples](https://github.com/Live2D/CubismWebSamples) | å®˜æ–¹ JS SDK ç¤ºä¾‹ |

---

## ğŸ§© ä¹ã€æ³¨æ„äº‹é¡¹

* **GPU åŠ é€Ÿ**ï¼šElectron é»˜è®¤å¯ç”¨ï¼Œå¯åœ¨ä½ç«¯æœºä¸Šå…³é—­ `app.disableHardwareAcceleration()`ã€‚
* **é€æ˜ç©¿é€**ï¼š`win.setIgnoreMouseEvents(true, { forward: true })` å¯è®©ç‚¹å‡»ç©¿é€æ¡Œå® ã€‚
* **æ€§èƒ½è°ƒä¼˜**ï¼šé™åˆ¶å¸§ç‡ä¸º 60fpsï¼›æ¨¡å‹è¶…è¿‡ 1 ä¸ªå¯è€ƒè™‘å»¶è¿ŸåŠ è½½ã€‚

---

æ˜¯å¦å¸Œæœ›æˆ‘å¸®ä½ ï¼š
ğŸ‘‰ ç›´æ¥ç”Ÿæˆä¸€ä¸ªå¯è¿è¡Œçš„ **å®Œæ•´ Electron + Live2D æ¨¡æ¿ ZIP åŒ…**ï¼ˆå¸¦ Haru æ¨¡å‹ä¸ä¸‰ç§åŠ¨ä½œï¼‰ï¼Ÿ
ä½ åªéœ€ä¸‹è½½ã€`npm install`ã€`npx electron .` å°±èƒ½ç›´æ¥çœ‹åˆ° Live2D æ¡Œå® åœ¨åŠ¨ã€‚